function tryRemoveLoader(){try{$("#charts-loader").remove()}catch(n){}}function getProductsBy(n){$.ajax({url:"/Products/GroupBy"+n,type:"GET",contentType:"application/json; charset=utf-8",datatype:JSON,success:function(t){var i={labels:[],count:[]};$(t).each(function(n,t){i.labels.push(t.name);i.count.push(t.count)});"Category"==n?loadPie(i):"City"==n&&loadChart(i)},error:function(){return null}})}function loadChart(n){var t=document.getElementById("products-by-city-chart"),i={responsive:!0,labels:n.labels,datasets:[{data:n.count,backgroundColor:colorScheme,borderColor:borderScheme,borderWidth:1}]},r=new Chart(t,{type:"bar",data:i,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},title:{display:!0,text:"Available Products by Cities"}}});tryRemoveLoader()}function loadPie(n){var t=document.getElementById("products-by-cat-pie"),i={responsive:!0,labels:n.labels,datasets:[{data:n.count,backgroundColor:colorScheme,borderColor:borderScheme,borderWidth:1}]},r=new Chart(t,{data:i,type:"pie",options:{title:{display:!0,text:"Available Products by Categories"}}});tryRemoveLoader()}var colorScheme=["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(180, 120, 50, 0.2)","rgba(75, 192, 192, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(250, 150, 192, 0.2)"],borderScheme=["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"];